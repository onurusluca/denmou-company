<template>
  <transition name="fade">
    <div v-if="show" class="preloader">
      <div class="logo">
        <svg
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          width="231.000000pt"
          height="85.000000pt"
          viewBox="0 0 231.000000 85.000000"
          preserveAspectRatio="xMidYMid meet"
        >
          <g
            transform="translate(0.000000,85.000000) scale(0.100000,-0.100000)"
            fill="#06032f"
            stroke="none"
          >
            <path
              d="M80 620 l0 -180 78 0 c99 0 140 12 179 52 61 64 69 186 15 249 -38
46 -78 59 -182 59 l-90 0 0 -180z m186 79 c13 -15 18 -36 18 -76 0 -48 -3 -58
-27 -79 -16 -13 -39 -24 -53 -24 -24 0 -24 1 -24 100 l0 100 33 0 c22 0 41 -8
53 -21z"
            />
            <path
              d="M538 720 c-66 -12 -98 -57 -98 -140 0 -62 20 -105 61 -125 32 -17
106 -22 158 -10 27 6 31 11 31 41 0 39 3 37 -53 23 -49 -12 -97 1 -97 26 0 12
15 15 79 15 46 0 83 5 86 11 12 19 -6 99 -28 125 -26 29 -83 43 -139 34z m72
-80 c10 -18 8 -20 -30 -20 -41 0 -49 7 -28 28 18 18 46 14 58 -8z"
            />
            <path
              d="M903 718 c-18 -4 -35 -13 -38 -18 -9 -15 -25 -12 -25 5 0 11 -11 15
-40 15 l-40 0 0 -140 0 -140 50 0 50 0 0 89 c0 68 4 93 16 105 42 43 64 6 64
-108 l0 -86 45 0 45 0 0 114 c0 94 -3 118 -17 135 -23 28 -70 40 -110 29z"
            />
            <path
              d="M1243 723 c-12 -2 -27 -11 -33 -19 -16 -18 -30 -18 -30 1 0 11 -11
15 -40 15 l-40 0 0 -140 0 -140 50 0 50 0 0 86 c0 92 10 124 39 124 26 0 31
-19 31 -121 l0 -89 50 0 50 0 0 89 c0 94 13 126 49 119 13 -3 16 -20 19 -106
l3 -102 49 0 50 0 0 114 c0 105 -2 117 -22 141 -28 32 -93 37 -134 10 -22 -14
-28 -15 -42 -2 -19 16 -66 25 -99 20z"
            />
            <path
              d="M1705 720 c-74 -16 -105 -57 -105 -141 0 -94 51 -143 147 -141 80 2
127 55 127 142 -1 98 -75 160 -169 140z m69 -107 c13 -47 -3 -97 -33 -101 -34
-5 -43 10 -43 66 0 62 7 74 40 70 20 -2 29 -11 36 -35z"
            />
            <path
              d="M1930 615 c0 -110 12 -156 45 -169 33 -12 98 -6 118 11 18 17 19 17
32 0 7 -10 25 -17 44 -17 l31 0 0 140 0 140 -44 0 -44 0 -4 -90 c-3 -68 -8
-95 -21 -108 -13 -13 -21 -14 -35 -6 -14 9 -18 29 -20 108 l-3 96 -49 0 -50 0
0 -105z"
            />
            <path
              d="M953 327 c-41 -16 -52 -27 -25 -27 32 0 27 -16 -9 -30 -24 -10 -32
-11 -38 -1 -12 18 -35 -44 -25 -66 7 -16 8 -15 11 5 3 16 11 22 31 22 21 0 24
-3 12 -10 -12 -8 -12 -10 4 -16 10 -4 21 -2 26 5 5 10 9 9 13 -3 6 -15 -5 -20
-42 -18 -10 0 -12 -10 -7 -41 8 -50 23 -68 36 -47 8 13 10 13 10 -1 0 -30 32
-47 87 -45 68 2 80 14 58 56 -19 37 -30 35 -16 -3 9 -24 8 -27 -13 -33 -39 -9
-91 -1 -91 16 0 8 8 14 18 14 10 -1 25 9 34 23 24 36 8 97 -27 101 -21 3 -22
2 -11 -12 11 -14 11 -16 -3 -16 -11 0 -16 9 -16 28 0 43 10 50 60 43 42 -6 43
-8 23 -19 -14 -8 -24 -9 -28 -2 -3 5 -16 10 -28 10 -17 -1 -13 -5 17 -20 39
-20 40 -20 58 0 34 36 18 50 -58 50 -43 0 -58 12 -29 24 15 5 21 27 8 25 -5 0
-22 -6 -40 -12z m-3 -83 c0 -8 -5 -12 -10 -9 -6 4 -8 11 -5 16 9 14 15 11 15
-7z m61 -77 c-12 -12 -45 -1 -37 12 3 5 15 7 27 4 13 -4 17 -9 10 -16z m-61
-7 c-18 -12 -30 -13 -30 -2 0 4 10 9 22 9 18 2 20 0 8 -7z m55 -20 c-3 -5 -11
-10 -16 -10 -6 0 -7 5 -4 10 3 6 11 10 16 10 6 0 7 -4 4 -10z m-60 -10 c3 -5
1 -10 -4 -10 -6 0 -11 5 -11 10 0 6 2 10 4 10 3 0 8 -4 11 -10z"
            />
            <path
              d="M1193 283 c-14 -30 -19 -51 -13 -58 6 -7 4 -19 -6 -34 -11 -16 -13
-25 -5 -35 7 -9 6 -19 -5 -35 -12 -16 -13 -26 -6 -33 11 -11 22 7 35 57 2 11
5 -1 6 -27 0 -26 5 -49 10 -52 13 -9 21 34 14 77 -6 38 3 47 25 25 15 -15 16
-3 2 22 -7 13 -16 17 -28 13 -16 -7 -16 -6 1 20 9 14 17 34 17 44 0 15 -4 14
-20 -7 -11 -14 -20 -20 -19 -15 0 6 6 19 14 29 16 21 20 56 8 56 -5 -1 -18
-22 -30 -47z"
            />
            <path
              d="M1337 299 c-9 -6 -26 -8 -36 -4 -16 5 -19 -4 -25 -91 -4 -63 -3 -101
4 -108 7 -7 10 0 10 21 0 77 24 119 50 88 10 -12 7 -17 -14 -25 -14 -5 -26
-12 -26 -16 0 -3 7 -4 15 0 10 3 15 -1 15 -13 0 -22 25 -34 51 -26 28 9 23 23
-6 17 -18 -3 -25 0 -25 11 0 9 10 17 22 19 12 2 23 9 26 16 2 8 -3 12 -13 10
-29 -5 -29 21 -1 28 24 6 37 24 18 24 -4 0 -8 9 -9 20 -1 11 4 20 13 20 11 0
14 -20 14 -105 0 -113 -4 -120 -49 -88 -18 12 -23 13 -19 2 6 -18 67 -54 76
-44 12 12 15 211 3 234 -13 23 -62 28 -94 10z m33 -23 c0 -7 -7 -19 -15 -26
-12 -10 -16 -9 -21 5 -4 10 -1 21 7 26 20 12 29 11 29 -5z m-51 -25 c8 -14 7
-20 -4 -25 -11 -4 -15 2 -15 19 0 30 6 32 19 6z"
            />
            <path
              d="M1230 149 c0 -8 7 -24 15 -35 11 -15 14 -16 15 -3 0 8 -7 24 -15 35
-11 15 -14 16 -15 3z"
            />
          </g>
        </svg>
      </div>
      <p>少々お待ちください。</p>
      <div class="circles">
        <div class="lds-ring">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
    </div>
  </transition>
</template>

<script>
export default {
  name: "preloader",
  data() {
    return {
      show: true,
    };
  },
  mounted() {
    if (Boolean(this.show)) this.showToggle();
  },
  methods: {
    showToggle() {
      setTimeout(() => {
        this.show = false;
      }, 100);
    },
  },
};
</script>

<style lang="scss" scoped>
.preloader {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: fixed;
  width: 100%;
  height: 100%;
  background-color: $b-color;
  z-index: 9999;


  p {
    margin-top: 1rem;
    font-family: $s-font;
    font-weight: bold;
  }

  .circles {
    display: flex;
    margin-top: 1rem;

    .lds-ring {
      display: inline-block;
      position: relative;
      width: 80px;
      height: 80px;
    }
    .lds-ring div {
      box-sizing: border-box;
      display: block;
      position: absolute;
      width: 64px;
      height: 64px;
      margin: 8px;
      border: 8px solid $p-color;
      border-radius: 50%;
      animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
      border-color: $p-color transparent transparent transparent;
    }
    .lds-ring div:nth-child(1) {
      animation-delay: -0.45s;
    }
    .lds-ring div:nth-child(2) {
      animation-delay: -0.3s;
    }
    .lds-ring div:nth-child(3) {
      animation-delay: -0.15s;
    }
    @keyframes lds-ring {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
  }
}
</style>